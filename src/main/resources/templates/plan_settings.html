<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/web/thymeleaf/layout"
      layout:decorator="layout">

<section layout:fragment="content">
    <!-- page start-->
    <div class="row">

        <div class="col-sm-6">
            <section class="panel panel_plan">
                <div class="panel-body">
                    <form class="form-horizontal bucket-form" method="get">
                        <div class="form-group">
                            <button type="button" id="btn_plan_create_show" class="btn btn-white btn_plan_create">新建计划</button>
                        </div>
                    </form>
                </div>

                <div id="plan_create_panel" class="panel-body panel_close">
                    <h4 class="modal-title">新建分流计划</h4>
                    <div class="modal-body">
                        <div class="form-group">
                            <label class="control-label" for="species_select">请选择大类</label>
                            <select id="species_select" class="form-control">
                                <option></option>
                                <option th:each="species:${speciesList}" th:text="${species.speciesName}"></option>
                            </select>
                            <label class="control-label plan_new_label" for="grades_select">年级</label>
                            <select id="grades_select" class="form-control">
                                <option></option>
                                <option th:each="grade:${gradeList}" th:text="${grade.grade}"></option>
                            </select>
                            <label class="control-label plan_new_label" for="amount_species">总人数</label>
                            <input type="text" id="amount_species" class="form-control" placeholder="请输入总人数" />
                        </div>
                        <div class="form-group" id="modal_append">
                            <!--<div class="modal_input_1">
                                <input type="text" class="form-control" placeholder="请输入专业名"/>
                            </div>
                            <div class="modal_input_2">
                                <input type="text" class="form-control" placeholder="请输入计划班级数"/>
                            </div>
                            <div class="modal_input_2">
                                <input type="text" class="form-control" placeholder="请输入计划人数"/>
                            </div>-->
                        </div>
                        <div class="form-group">
                            <button type="button" class="btn btn-default" id="plan_add">新增</button>
                            <button type="submit" class="btn btn-default" id="plan_save">保存</button>
                            <button type="submit" class="btn btn-default" id="plan_submit">提交</button>
                        </div>
                    </div>
                </div>
            </section>
        </div>

        <div class="col-sm-6">
            <section class="panel panel_plan">
                <div class="panel-body">
                    <form class="form-horizontal bucket-form" method="get">
                        <div class="form-group">
                            <div class="col-sm-6 plan_search_panel">
                                <div class="col-sm-4 term_picker ">
                                    <label class="control-label">年级</label>
                                </div>
                                <div class="col-sm-8 plan_search_select">
                                    <select class="form-control">
                                        <option></option>
                                        <option th:each="grade:${gradeList}" th:text="${grade.grade}+'级'"></option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-sm-6 plan_search_panel">
                                <div class="col-sm-4 term_picker">
                                    <label class="control-label">学期</label>
                                </div>
                                <div class="col-sm-8 plan_search_select">
                                    <select class="form-control">
                                        <option></option>
                                        <option>2015-2016-1</option>
                                        <option>2014-2015-2</option>
                                        <option>2014-2015-1</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-sm-6 plan_search_panel">
                                <div class="col-sm-4 term_picker">
                                    <label class="control-label">大类</label>
                                </div>
                                <div class="col-sm-8 plan_search_select">
                                    <select class="form-control">
                                        <option></option>
                                        <option th:each="species:${speciesList}" th:text="${species.speciesName}"></option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-sm-6 plan_search_panel">
                                <div class="col-sm-4 term_picker">
                                    <label class="control-label">状态</label>
                                </div>
                                <div class="col-sm-8 plan_search_select">
                                    <select class="form-control">
                                        <option></option>
                                        <option>发布中</option>
                                        <option>未发布</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-sm-6">
                                <button type="button" class="btn btn-white btn_plan_search">查询</button>
                                <button type="button" class="btn btn-white btn_plan_search">展示全部</button>
                            </div>
                        </div>
                    </form>
                </div>

                <div class="panel-body" th:each="plan:${planList}">
                    <table class="table">
                        <thead>
                        <tr>
                            <th class="text-center">招生大类</th>
                            <th>专业名称</th>
                            <th>班级数(计划)</th>
                            <th>人数（计划)</th>
                        </tr>
                        </thead>
                        <tbody>
                        <tr>
                            <td rowspan="5" class="td_species_name">
                                <h5 class="text-center" th:text="${plan.grade}+'级'"></h5>
                                <h5 class="text-center" th:text="${plan.species}"></h5>
                                <h5 class="text-center" th:text="${plan.amountStudent}+'人'"></h5>
                            </td>
                        </tr>
                        <tr>
                            <td>工商管理</td>
                            <td>2</td>
                            <td>50</td>
                        </tr>
                        <tr>
                            <td>会计学</td>
                            <td>4</td>
                            <td>108</td>
                        </tr>
                        <tr>
                            <td>市场营销</td>
                            <td>2</td>
                            <td>54</td>
                        </tr>
                        <tr>
                            <td>人力资源管理</td>
                            <td>2</td>
                            <td>56</td>
                        </tr>
                        </tbody>
                    </table>
                </div>

            </section>
        </div>
    </div>

    <!-- page end -->

    <script>
        $(document).ready(function() {
            $("#plan_add").on('click', function(){ //on add input button click
                $("#modal_append").append('<div class="div-append"></div>');
                $("#modal_append").children(".div-append:last").append('<div class="modal_input_1"><input type="text" class="form-control" placeholder="请输入专业名"/></div>');
                $("#modal_append").children(".div-append:last").append('<div class="modal_input_2"><input type="text" class="form-control" placeholder="请输入计划班级数"/></div>');
                $("#modal_append").children(".div-append:last").append('<div class="modal_input_2"><input type="text" class="form-control" placeholder="请输入计划人数"/></div>');
                $("#modal_append").children(".div-append:last").append('<div class="modal_input_3"><button type="button" class="btn btn-white delete_major">删除</button></div>');
            });

            $("body").on("click", ".delete_major", function(){
                //alert("你好");
                $(this).parent('div').parent('.div-append').remove();
            });
        });
    </script>
</section>
</html>